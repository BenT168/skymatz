<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Book a Tour</title>
<link href="../../tour_style.css" rel="stylesheet"/>
</head>
<body>
</head>
<body>
<header class="site-header">
<div class="header-container">
<div class="header-left">
<img src="../../picture/companylogo/svgexport-3.jpg" alt="Skymatz Resources Logo" class="company-logo">
</div>
<nav class="header-nav">
<a href="../../index.html">Home</a>
<a href="../../about.html">About Us</a> 
<div class="dropdown">
  <a href="../../destination.html" class="dropbtn">Destination ▼</a>
  <div class="dropdown-content">
    <a href="../../city/chongqing.html">Chongqing</a>
    <a href="../../city/chengdu.html">Chengdu</a>
    <a href="../../city/changsha.html">Changsha</a>
    <a href="../../city/dalian.html">Dalian</a>
    <a href="../../city/guangzhou.html">Guangzhou</a>
    <a href="../../city/guilin.html">Guilin</a>
    <a href="../../city/hangzhou.html">Hangzhou</a>
    <a href="../../city/jingdezhen.html">Jingdezhen</a>
    <a href="../../city/nanjing.html">Nanjing</a>
    <a href="../../city/qingdao.html">Qingdao</a>
    <a href="../../city/shanghai.html">Shanghai</a>
    <a href="../../city/wuhan.html">Wuhan</a>
    <a href="../../city/xiamen.html">Xiamen</a>
    <a href="../../city/xian.html">Xi’an</a>
    <a href="../../city/zhangjiajie.html">Zhangjiajie</a>
    <a href="../../city/zhengzhou.html">Zhengzhou</a>
  </div>
</div>
<a href="../../calendar.html">Book Tour</a>
<a href="../../contact.html">Contact Us</a>
</nav>
<div class="header-right">
<span class="contact-number">+44 7724231701</span>
</div>
</div>
</header>
<div class="content">
<main>
<!-- About this activity -->
<section class="about-activity">
<div class="tour-label">Private tour</div>
<h1>Chengdu Charm: Local Alley, Museum, Handcraft &amp; Night Market</h1>
<div class="image-gallery">
<a class="gallery-img" href="../../picture/chengdu/WechatIMG3063.jpg" target="_blank"><img alt="chengdu 1" src="../../picture/chengdu/WechatIMG3063.jpg"/></a>
<a class="gallery-img" href="../../picture/chengdu/WechatIMG3064.jpg" target="_blank"><img alt="chengdu 2" src="../../picture/chengdu/WechatIMG3064.jpg"/></a>
<a class="gallery-img" href="../../picture/chengdu/WechatIMG3065.jpg" target="_blank"><img alt="chengdu 3" src="../../picture/chengdu/WechatIMG3065.jpg"/></a>
<a class="gallery-img" href="../../picture/chengdu/WechatIMG3066.jpg" target="_blank"><img alt="chengdu 4" src="../../picture/chengdu/WechatIMG3066.jpg"/></a>
<a class="gallery-img" href="../../picture/chengdu/WechatIMG3067.jpg" style="display:none;" target="_blank"><img alt="chengdu 5" src="../../picture/chengdu/WechatIMG3067.jpg"/></a>
<a class="gallery-img" href="../../picture/chengdu/WechatIMG3068.jpg" style="display:none;" target="_blank"><img alt="chengdu 6" src="../../picture/chengdu/WechatIMG3068.jpg"/></a>
<a class="gallery-img" href="../../picture/chengdu/WechatIMG3069.jpg" style="display:none;" target="_blank"><img alt="chengdu 7" src="../../picture/chengdu/WechatIMG3069.jpg"/></a>
<a class="gallery-img" href="../../picture/chengdu/WechatIMG3070.jpg" style="display:none;" target="_blank"><img alt="chengdu 8" src="../../picture/chengdu/WechatIMG3070.jpg"/></a>
<a class="gallery-img" href="../../picture/chengdu/WechatIMG3071.jpg" style="display:none;" target="_blank"><img alt="chengdu 9" src="../../picture/chengdu/WechatIMG3071.jpg"/></a>
<a class="gallery-img" href="../../picture/chengdu/WechatIMG3072.jpg" style="display:none;" target="_blank"><img alt="chengdu 10" src="../../picture/chengdu/WechatIMG3072.jpg"/></a>
<button class="gallery-next" onclick="showNextImages()">❯</button>
<button class="gallery-prev" onclick="showPrevImages()">❮</button>
</div>
<!-- Lightbox Modal -->
<div class="lightbox-modal" id="lightbox-modal" style="display:none;">
<span class="lightbox-close" onclick="closeLightbox()">×</span>
<img class="lightbox-content" id="lightbox-img"/>
<a class="lightbox-prev" onclick="changeLightbox(-1)">❮</a>
<a class="lightbox-next" onclick="changeLightbox(1)">❯</a>
</div>
<p>Dive into Chengdu’s living culture with a full-day walk through museums, hidden alleys, fan-painting workshops, old neighborhoods, and night markets—where tradition meets local life &amp; creativity.</p>
</section>
<!-- Booking Section -->
<aside class="booking-widget">
<h2>Select participants and date</h2>
<div class="booking-row">
<select id="participants" name="participants">
<option value="1">1 Adult</option>
<option value="2">2 Adults</option>
<option value="3">3 Adults</option>
<option value="4">4 Adults</option>
<option value="5">5 Adults</option>
<option value="6">6 Adults</option>
</select>
<input id="date" name="date" type="date"/>
<select id="language" name="language">
<option>English</option>
<option>Spanish</option>
<option>Korean</option>
<option>Japanese</option>
<option>Chinese</option>
</select>
<button id="toggle-booking" type="button">Availability</button>
</div>
<form id="booking-form" style="display:none;">
<div class="slot-row">
<label style="margin-right:1rem;">Starting Slot Time:</label>
<div class="slot-options">
<div class="slot-box" data-value="08:00">08:00</div>
<div class="slot-box" data-value="08:30">08:30</div>
<div class="slot-box" data-value="09:00">09:00</div>
</div>
</div>
<span class="pickup-note">Please provide your <a href="#" id="show-map" style="color:#90caf9; text-decoration:underline;">pickup address</a>  on booking page </span>
<div id="map-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:9999;">
<div style="background:#fff; border-radius:8px; padding:1rem; max-width:90vw; max-height:80vh; position:relative;">
<span id="close-map" style="position:absolute; top:0.5rem; right:1rem; cursor:pointer; font-size:1.5rem;">×</span>
<div style="margin-bottom:0.5rem;">
<input id="map-search" placeholder="Search address..." style="width: 250px; padding: 0.3rem; border-radius: 4px; border: 1px solid #ccc;" type="text"/>
<button id="map-search-btn" style="padding: 0.3rem 0.7rem; border-radius: 4px; border: none; background: #00897b; color: #fff; font-weight: bold; cursor: pointer;">Search</button>
</div>
<iframe allowfullscreen="" height="300" id="map-iframe" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps?q=Chengdu&amp;output=embed" style="border:0;" width="400"></iframe>
</div>
</div>
<input id="slot" name="slot" type="hidden" value="08:00"/>
<div style="margin-top:1rem;">
<div class="price-row" style="margin-top:1rem;">
<span>Price per person: £<span id="price-per-person">280</span></span>
<span style="margin-left:auto;"><strong>Total Price: £<span id="total-price">280</span></strong></span>
<p></p>
</div>
</div></form>
</aside>
<!-- Highlights -->
<section class="highlights">
<h2>Highlights</h2>
<ul>
  <li>Discover ancient artifacts and local stories at the immersive Chengdu Museum</li>
  <li>Wander through historic alleys: Kuanzhai, Xiaotong Lane &amp; Pao Tongshu Street</li>
  <li>Create your own painted silk fan with a local artisan in a heritage workshop</li>
  <li>Explore Red Star Road &amp; Chunxi Road—where old Chengdu meets modern trends</li>
  <li>End the day with lantern-lit strolls at Jinli Night Market &amp; Wuhou Shrine view</li>
</ul>
</section>
<!-- Full Description -->
<section class="full-description">
<h2>Full Description</h2>
<p><strong>Chengdu Museum:</strong> Start your day with a journey through ancient Shu civilization, Sichuan opera costumes, shadow puppetry, and more. A modern museum ready to impress you with Sichuan esthetics.
</p>
<div id="more-description" style="display:none;">
<p>
<strong>Wide &amp; Narrow Alleys:</strong> Wander through Qing-dynasty alleys lined with tea houses, crafts, and courtyards. Discover lesser-known lanes behind the main path for a quieter, more authentic feel.
</p>
<p>
X<strong>iaotong Alley &amp; Paotongshu Street:</strong> Just a short walk away, these alleys are beloved by locals. Bookstores, indie cafés, and peaceful lanes make this a perfect space to soak in Chengdu’s poetic pace of life.
</p>
<p>
<strong>Fan Painting Workshop:</strong> Create your own traditional silk folding fan with a local artisan near Red Star Road. Learn the steps from sketching to painting in a peaceful, artistic studio. A take-home treasure!
</p>
<p>
<strong>Red Star Road &amp; Chunxi Road:</strong> Wander past tea stalls and vintage buildings along Red Star Road, then blend into the vibrant energy of Chunxi Road. A unique mix of nostalgia and neon, where old streets meet modern Buzz.
</p>
<p>
<strong>Eastern Suburb Memory:</strong> Once an industrial plant, now a cultural hub. Explore red-brick warehouses turned galleries, cafés, murals, and craft markets. A top spot for photos and creative browsing.
</p>
<p>
<strong>Jinli Night Market &amp; Wuhou Shrine: </strong>Wrap up at Chengdu’s most atmospheric night market. Lantern-lit alleys, Sichuan snacks, sugar paintings, and opera masks await. Enjoy the shrine’s façade and rich evening vibes.
</p>
</div>
<button id="see-more-btn" style="background:#003366;color:#fff;border:none;padding:0.5rem 1rem;border-radius:5px;cursor:pointer;margin-top:1rem;">
          See more
        </button>
</section>
<!-- Includes -->
<section class="includes">
<h2>Includes</h2>
<ul>
  <li>Convenient Pickup: Pickup and drop-off from anywhere in Chengdu city. Your dedicated staff will confirm pickup details the evening before.</li>
  <li>Comfortable Transportation: Relax in a well-maintained private vehicle (from 5-seaters to 9-seaters).</li>
  <li>Group Size: 1-6 people (larger groups may inquire about custom options).</li>
  <li>Language: Guided in your selected language for a smooth experience.</li>
  <li>Tour Duration: Approximately 10 hours.</li>
  <li>Ticket: Chengdu Museum, Fan Painting Workshop</li>
  <li>Snacks &amp; drinks: we will provide two local snacks and drinks during the day.</li>
</ul>
</section>
<!-- Not Included -->
<section class="not-includes">
<h2>Not Included</h2>
<ul>
  <li>Lunch: not included. Guests will be recommended some lunch options by the guide.</li>
  <li>Tips: Not included, but our guests can decide at their discretionary.</li>
</ul>
</section>
<!-- Not Suitable For -->
<section class="not-suitable">
<h2>Not Suitable For</h2>
<ul>
<li>Wheelchair users</li>
<li>People with mobility impairments</li>
</ul>
</section>
<!-- Important Information -->
<section class="important-info">
<h2>Important Information</h2>
<ul>
<li>Wear comfortable walking shoes</li>
<li>Bring sun protection and rain gear as needed</li>
<li>Tour operates rain or shine</li></ul>
</section>
</main>
</div>
<footer>
        © 2025 Skymatz Resources | All Rights Reserved
    </footer>
<script>
      let galleryIndex = 0;
      const galleryImgs = document.querySelectorAll('.gallery-img');
      const totalImgs = galleryImgs.length;
      
      function showImages(start = 0) {
        galleryImgs.forEach((img, i) => {
          img.style.display = (i >= start && i < start + 4) ? 'block' : 'none';
        });
        galleryIndex = start;
      }
      showImages();
      
      function showNextImages() {
        if (galleryIndex + 4 < totalImgs) showImages(galleryIndex + 1);
      }
      function showPrevImages() {
        if (galleryIndex > 0) showImages(galleryIndex - 1);
      }
      
      // Lightbox
      let currentLightbox = 0;
      galleryImgs.forEach((a, i) => {
        a.onclick = function(e) {
          e.preventDefault();
          openLightbox(i);
        }
      });
      
      function openLightbox(idx) {
        document.getElementById('lightbox-modal').style.display = 'flex';
        showLightboxImg(idx);
      }
      function closeLightbox() {
        document.getElementById('lightbox-modal').style.display = 'none';
      }
      function showLightboxImg(idx) {
        currentLightbox = idx;
        document.getElementById('lightbox-img').src = galleryImgs[idx].href;
      }
      function changeLightbox(dir) {
        let newIdx = currentLightbox + dir;
        if (newIdx < 0) newIdx = totalImgs - 1;
        if (newIdx >= totalImgs) newIdx = 0;
        showLightboxImg(newIdx);
      }

      document.addEventListener('DOMContentLoaded', function() {
        const dateInput = document.getElementById('date');
        const now = new Date();
        now.setDate(now.getDate() + 1); // Add 1 day for tomorrow
        const yyyy = now.getFullYear();
        const mm = String(now.getMonth() + 1).padStart(2, '0');
        const dd = String(now.getDate()).padStart(2, '0');
        const minDate = `${yyyy}-${mm}-${dd}`;
        dateInput.setAttribute('min', minDate);
      });


      const priceTable = {
        1: 280,
        2: 160,
        3: 120,
        4: 115,
        5: 105,
        6: 95
      };

      const participantsSelect = document.getElementById('participants');
      const totalPriceSpan = document.getElementById('total-price');
      const pricePerPersonSpan = document.getElementById('price-per-person');

      function updateTotalPrice() {
        const num = parseInt(participantsSelect.value, 10);
        const perPerson = priceTable[num] || 0;
        pricePerPersonSpan.textContent = perPerson;
        totalPriceSpan.textContent = perPerson * num;
      }

      participantsSelect.addEventListener('change', updateTotalPrice);

      // Initialize on page load
      updateTotalPrice();

      document.getElementById('toggle-booking').addEventListener('click', function() {
        const form = document.getElementById('booking-form');
        if (form.style.display === 'none' || form.style.display === '') {
          form.style.display = 'block';
          this.textContent = 'Book';
        } else {
           // Redirect to payment link when "Book" is pressed
          const tour = encodeURIComponent(document.querySelector('.about-activity h1').textContent);
          const participants = encodeURIComponent(document.getElementById('participants').value);
          const date = encodeURIComponent(document.getElementById('date').value);
          const language = encodeURIComponent(document.getElementById('language').value);
          const slot = encodeURIComponent(document.getElementById('slot').value);

          // Build query string
          const params = `?tour=${tour}&participants=${participants}&date=${date}&language=${language}&slot=${slot}`;

          // Redirect with parameters
          window.location.href = '../../calendar.html' + params;
        }
      });

      // Make slot boxes selectable and update button text
      document.querySelectorAll('.slot-box').forEach(box => {
        box.addEventListener('click', function() {
          document.querySelectorAll('.slot-box').forEach(b => b.classList.remove('selected'));
          this.classList.add('selected');
          document.getElementById('slot').value = this.getAttribute('data-value');
          // Change button text to "Book"
          document.getElementById('toggle-booking').textContent = 'Book';
        });
      });

      // Optionally, set the first slot as selected on page load
      document.querySelector('.slot-box').classList.add('selected');

      document.getElementById('show-map').onclick = function(e) {
        e.preventDefault();
        document.getElementById('map-modal').style.display = 'flex';
      };
      document.getElementById('close-map').onclick = function() {
        document.getElementById('map-modal').style.display = 'none';
      };

      function updateMap() {
        const query = document.getElementById('map-search').value.trim();
        const iframe = document.getElementById('map-iframe');
        if (query) {
          iframe.src = 'https://www.google.com/maps?q=place:' + encodeURIComponent(query) + '&output=embed';
        }
      }

      document.getElementById('map-search-btn').onclick = updateMap;
      document.getElementById('map-search').addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          updateMap();
        }
      });

      const seeMoreBtn = document.getElementById('see-more-btn');
      const moreDesc = document.getElementById('more-description');
      let expanded = false;

      seeMoreBtn.addEventListener('click', function() {
        expanded = !expanded;
        if (expanded) {
          moreDesc.style.display = 'block';
          seeMoreBtn.textContent = 'Show less';
        } else {
          moreDesc.style.display = 'none';
          seeMoreBtn.textContent = 'See more';
        }
      });
      </script>
</body>
</html>