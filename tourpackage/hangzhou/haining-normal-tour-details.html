<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Book a Tour</title>
<link href="../../tour_style.css" rel="stylesheet"/>
</head>
<body>
<header>
<h1>Skymatz Resources</h1>
<p>Your Journey, Our Expertise</p>
</header>
<nav>
<a href="../../index.html">Home</a>
<a href="../../about.html">About Us</a>
<a href="../../destination.html">Destination</a>
<a href="../../calendar.html">Book Tour</a>
<a href="../../contact.html">Contact</a>
</nav>
<div class="content">
<main>
<!-- About this activity -->
<section class="about-activity">
<div class="tour-label">Private tour</div>
<h1>Hangzhou to Haining: Tide Park, Folk Museum &amp; Shadow Puppet</h1>
<div class="image-gallery">
<a class="gallery-img" href="../../picture/haining/WechatIMG3343.jpg" target="_blank"><img alt="Haining 1" src="../../picture/haining/WechatIMG3343.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3345.jpg" target="_blank"><img alt="Haining 2" src="../../picture/haining/WechatIMG3345.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3346.jpg" target="_blank"><img alt="Haining 3" src="../../picture/haining/WechatIMG3346.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3347.jpg" target="_blank"><img alt="Haining 4" src="../../picture/haining/WechatIMG3347.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3348.jpg" style="display:none;" target="_blank"><img alt="Haining 5" src="../../picture/haining/WechatIMG3348.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3349.jpg" style="display:none;" target="_blank"><img alt="Haining 6" src="../../picture/haining/WechatIMG3349.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3350.jpg" style="display:none;" target="_blank"><img alt="Haining 7" src="../../picture/haining/WechatIMG3350.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3351.jpg" style="display:none;" target="_blank"><img alt="Haining 8" src="../../picture/haining/WechatIMG3351.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3352.jpg" style="display:none;" target="_blank"><img alt="Haining 9" src="../../picture/haining/WechatIMG3352.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3353.jpg" style="display:none;" target="_blank"><img alt="Haining 10" src="../../picture/haining/WechatIMG3353.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3354.jpg" style="display:none;" target="_blank"><img alt="Haining 11" src="../../picture/haining/WechatIMG3354.jpg"/></a>
<a class="gallery-img" href="../../picture/haining/WechatIMG3355.jpg" style="display:none;" target="_blank"><img alt="Haining 12" src="../../picture/haining/WechatIMG3355.jpg"/></a>
<button class="gallery-next" onclick="showNextImages()">❯</button>
<button class="gallery-prev" onclick="showPrevImages()">❮</button>
</div>
<!-- Lightbox Modal -->
<div class="lightbox-modal" id="lightbox-modal" style="display:none;">
<span class="lightbox-close" onclick="closeLightbox()">×</span>
<img class="lightbox-content" id="lightbox-img"/>
<a class="lightbox-prev" onclick="changeLightbox(-1)">❮</a>
<a class="lightbox-next" onclick="changeLightbox(1)">❯</a>
</div>
<p>Discover Haining's cultural heritage: from tidal wonders to folk museums, poetic alleys, and a hands-on shadow puppet crafting experience in a historic street.</p>
</section>
<!-- Booking Section -->
<aside class="booking-widget">
<h2>Select participants and date</h2>
<div class="booking-row">
<select id="participants" name="participants">
<option value="1">1 Adult</option>
<option value="2">2 Adults</option>
<option value="3">3 Adults</option>
<option value="4">4 Adults</option>
<option value="5">5 Adults</option>
<option value="6">6 Adults</option>
</select>
<input id="date" name="date" type="date"/>
<select id="language" name="language">
<option>English</option>
<option>Spanish</option>
<option>Korean</option>
<option>Japanese</option>
<option>Chinese</option>
</select>
<button id="toggle-booking" type="button">Availability</button>
</div>
<form id="booking-form" style="display:none;">
<div class="slot-row">
<label style="margin-right:1rem;">Starting Slot Time:</label>
<div class="slot-options">
<div class="slot-box" data-value="08:00">08:00</div>
<div class="slot-box" data-value="08:30">08:30</div>
<div class="slot-box" data-value="09:00">09:00</div>
</div>
</div>
<span class="pickup-note">Please provide your <a href="#" id="show-map" style="color:#90caf9; text-decoration:underline;">pickup address</a>  on booking page </span>
<div id="map-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:9999;">
<div style="background:#fff; border-radius:8px; padding:1rem; max-width:90vw; max-height:80vh; position:relative;">
<span id="close-map" style="position:absolute; top:0.5rem; right:1rem; cursor:pointer; font-size:1.5rem;">×</span>
<div style="margin-bottom:0.5rem;">
<input id="map-search" placeholder="Search address..." style="width: 250px; padding: 0.3rem; border-radius: 4px; border: 1px solid #ccc;" type="text"/>
<button id="map-search-btn" style="padding: 0.3rem 0.7rem; border-radius: 4px; border: none; background: #00897b; color: #fff; font-weight: bold; cursor: pointer;">Search</button>
</div>
<iframe allowfullscreen="" height="300" id="map-iframe" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps?q=Hangzhou&amp;output=embed" style="border:0;" width="400"></iframe>
</div>
</div>
<input id="slot" name="slot" type="hidden" value="08:00"/>
<div style="margin-top:1rem;">
<div class="price-row" style="margin-top:1rem;">
<span>Price per person: £<span id="price-per-person">305</span></span>
<span style="margin-left:auto;"><strong>Total Price: £<span id="total-price">305</span></strong></span>
<p></p>
</div>
</div></form>
</aside>
<!-- Highlights -->
<section class="highlights">
<h2>Highlights</h2>
<ul>
  <li>Witness Qiantang River’s legendary tidal waves at Tide Viewing Park</li>
  <li>Explore Haining Museum with dazzling traditional lantern craftsmanship</li>
  <li>Walk through Ganhe Street and visit poet Xu Zhimo’s former residence</li>
  <li>Experience Chinese shadow puppetry art and make your own puppet</li>
  <li>Discover Nanguanxiang blend of folk shows, heritage, and architecture</li>
</ul>
</section>
<!-- Full Description -->
<section class="full-description">
<h2>Full Description</h2>
<p><strong>Haining Tidal Viewing Park:</strong> this scenic riverside spot is famous for the Qiantang tidal bore, one of the world’s most dramatic natural phenomena. Learn about the history of tide-watching festivals and the stories that have shaped this riverside culture.
</p>
<div id="more-description" style="display:none;">
<p>
<strong>Haining Museum: </strong>a modern and beautifully designed museum, wiht one highlight is the exhibition of Haining Lantern Art, a vibrant local craft listed as national intangible cultural heritage. Admire intricate handmade lanterns and discover the cultural meanings behind their colors, patterns, and shapes.
</p>
<p>
<strong>Ganhe Historic District: </strong> Continue to Ganhe Historic Street, where you’ll visit the Former Residence of Xu Zhimo, one of China’s most beloved poets. Wander through quiet alleys lined with old houses and local shops. Enjoy lunch at your own pace at one of the neighborhood's small eateries or cafés, surrounded by charming brick facades.
</p>
<p>
<strong>Nanguanxiang Cultural Street:</strong> Visit the Haining Shadow Puppet Theater, where you'll not only observe beautifully crafted puppets and learn about the history of this art, but also enjoy a hands-on shadow puppet making workshop. Guided by a local artisan, you’ll create your own puppet using traditional materials. Afterwards, explore the Intangible Cultural Heritage Museum, showcasing crafts like embroidery, paper-cutting, and bamboo weaving.
</p>
</div>
<button id="see-more-btn" style="background:#003366;color:#fff;border:none;padding:0.5rem 1rem;border-radius:5px;cursor:pointer;margin-top:1rem;">
          See more
        </button>
</section>
<!-- Includes -->
<section class="includes">
<h2>Includes</h2>
<ul>
  <li>Convenient Pickup: Pickup and drop-off from anywhere in Hangzhou or Jiaxing city. Your dedicated staff will confirm pickup details the evening before.</li>
  <li>Group Size: 1-6 people (larger groups may inquire about custom options).</li>
  <li>Language: Guided in your selected language for a smooth experience.</li>
  <li>Tour Duration: Approximately 10 hours.</li>
  <li>Ticket: Haining Tidal Viewing Park, Shadow Puppet Making Workshop.</li>
</ul>
</section>
<!-- Not Included -->
<section class="not-includes">
<h2>Not Included</h2>
<ul>
  <li>Lunch: not included. Guests will be recommended some lunch options by the guide.</li>
  <li>Other personal expenses</li>
  <li>Tips: Not included, but our guests can decide at their discretionary.</li>
</ul>
</section>
<!-- Not Suitable For -->
<section class="not-suitable">
<h2>Not Suitable For</h2>
<ul>
<li>Wheelchair users</li>
<li>People with mobility impairments</li>
</ul>
</section>
<!-- Important Information -->
<section class="important-info">
<h2>Important Information</h2>
<ul>
<li>Wear comfortable walking shoes</li>
<li>Bring sun protection and rain gear as needed</li>
<li>Tour operates rain or shine</li>
</ul>
</section>
</main>
</div>
<footer>
        © 2025 Skymatz Resources | All Rights Reserved
    </footer>
<script>
      let galleryIndex = 0;
      const galleryImgs = document.querySelectorAll('.gallery-img');
      const totalImgs = galleryImgs.length;
      
      function showImages(start = 0) {
        galleryImgs.forEach((img, i) => {
          img.style.display = (i >= start && i < start + 4) ? 'block' : 'none';
        });
        galleryIndex = start;
      }
      showImages();
      
      function showNextImages() {
        if (galleryIndex + 4 < totalImgs) showImages(galleryIndex + 1);
      }
      function showPrevImages() {
        if (galleryIndex > 0) showImages(galleryIndex - 1);
      }
      
      // Lightbox
      let currentLightbox = 0;
      galleryImgs.forEach((a, i) => {
        a.onclick = function(e) {
          e.preventDefault();
          openLightbox(i);
        }
      });
      
      function openLightbox(idx) {
        document.getElementById('lightbox-modal').style.display = 'flex';
        showLightboxImg(idx);
      }
      function closeLightbox() {
        document.getElementById('lightbox-modal').style.display = 'none';
      }
      function showLightboxImg(idx) {
        currentLightbox = idx;
        document.getElementById('lightbox-img').src = galleryImgs[idx].href;
      }
      function changeLightbox(dir) {
        let newIdx = currentLightbox + dir;
        if (newIdx < 0) newIdx = totalImgs - 1;
        if (newIdx >= totalImgs) newIdx = 0;
        showLightboxImg(newIdx);
      }

      document.addEventListener('DOMContentLoaded', function() {
        const dateInput = document.getElementById('date');
        const now = new Date();
        now.setDate(now.getDate() + 1); // Add 1 day for tomorrow
        const yyyy = now.getFullYear();
        const mm = String(now.getMonth() + 1).padStart(2, '0');
        const dd = String(now.getDate()).padStart(2, '0');
        const minDate = `${yyyy}-${mm}-${dd}`;
        dateInput.setAttribute('min', minDate);
      });


      const priceTable = {
        1: 305,
        2: 175,
        3: 135,
        4: 130,
        5: 120,
        6: 110
      };

      const participantsSelect = document.getElementById('participants');
      const totalPriceSpan = document.getElementById('total-price');
      const pricePerPersonSpan = document.getElementById('price-per-person');

      function updateTotalPrice() {
        const num = parseInt(participantsSelect.value, 10);
        const perPerson = priceTable[num] || 0;
        pricePerPersonSpan.textContent = perPerson;
        totalPriceSpan.textContent = perPerson * num;
      }

      participantsSelect.addEventListener('change', updateTotalPrice);

      // Initialize on page load
      updateTotalPrice();

      document.getElementById('toggle-booking').addEventListener('click', function() {
        const form = document.getElementById('booking-form');
        if (form.style.display === 'none' || form.style.display === '') {
          form.style.display = 'block';
          this.textContent = 'Book';
        } else {
          // Redirect to payment link when "Book" is pressed
          window.location.href = 'https://your-payment-link.com';
        }
      });

      // Make slot boxes selectable and update button text
      document.querySelectorAll('.slot-box').forEach(box => {
        box.addEventListener('click', function() {
          document.querySelectorAll('.slot-box').forEach(b => b.classList.remove('selected'));
          this.classList.add('selected');
          document.getElementById('slot').value = this.getAttribute('data-value');
          // Change button text to "Book"
          document.getElementById('toggle-booking').textContent = 'Book';
        });
      });

      // Optionally, set the first slot as selected on page load
      document.querySelector('.slot-box').classList.add('selected');

      document.getElementById('show-map').onclick = function(e) {
        e.preventDefault();
        document.getElementById('map-modal').style.display = 'flex';
      };
      document.getElementById('close-map').onclick = function() {
        document.getElementById('map-modal').style.display = 'none';
      };

      function updateMap() {
        const query = document.getElementById('map-search').value.trim();
        const iframe = document.getElementById('map-iframe');
        if (query) {
          iframe.src = 'https://www.google.com/maps?q=place:' + encodeURIComponent(query) + '&output=embed';
        }
      }

      document.getElementById('map-search-btn').onclick = updateMap;
      document.getElementById('map-search').addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          updateMap();
        }
      });

      const seeMoreBtn = document.getElementById('see-more-btn');
      const moreDesc = document.getElementById('more-description');
      let expanded = false;

      seeMoreBtn.addEventListener('click', function() {
        expanded = !expanded;
        if (expanded) {
          moreDesc.style.display = 'block';
          seeMoreBtn.textContent = 'Show less';
        } else {
          moreDesc.style.display = 'none';
          seeMoreBtn.textContent = 'See more';
        }
      });
      </script>
</body>
</html>